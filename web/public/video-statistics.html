<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ODevTube ë¹„ë””ì˜¤ í†µê³„</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="css/odevtube-common.css">
    <script src="js/odevtube-utils.js"></script>
</head>
<body>
    <div class="container">
        <h1>ODevTube ë¹„ë””ì˜¤ í†µê³„ <a href="/" style="font-size: 0.8rem; margin-left: 10px;">ğŸ  í™ˆìœ¼ë¡œ</a></h1>
        
        <div class="tab-container">
            <button class="tab active" onclick="showTab('yearly', 'chart')">ì—°ë„ë³„ í†µê³„</button>
            <button class="tab" onclick="showTab('monthly', 'chart')">ì›”ë³„ í†µê³„</button>
            <button class="tab" onclick="showTab('recent', 'chart')">ìµœê·¼ 3ë…„ ì›”ë³„ í†µê³„</button>
        </div>
        
        <div id="yearly-chart" class="chart-section active">
            <div class="chart-container">
                <canvas id="yearlyChart"></canvas>
            </div>
            <div class="summary">
                <h3>ì—°ë„ë³„ ë¹„ë””ì˜¤ í†µê³„ ìš”ì•½</h3>
                <p>2010ë…„ë¶€í„° 2025ë…„ê¹Œì§€ì˜ ë¹„ë””ì˜¤ ìˆ˜ì§‘ ì¶”ì„¸ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. <span class="highlight">2021ë…„</span>ë¶€í„° ê¸‰ê²©í•œ ì„±ì¥ì´ ì‹œì‘ë˜ì—ˆìœ¼ë©°, <span class="highlight">2024ë…„</span>ì—ëŠ” 11,628ê°œì˜ ë¹„ë””ì˜¤ë¡œ í­ë°œì ì¸ ì„±ì¥ì„ ë³´ì˜€ìŠµë‹ˆë‹¤. 2025ë…„ì€ 5ì›”ê¹Œì§€ ì´ë¯¸ 5,046ê°œì˜ ë¹„ë””ì˜¤ê°€ ìˆ˜ì§‘ë˜ì–´ ì—°ê°„ ì•½ 12,000ê°œì˜ ë¹„ë””ì˜¤ë¥¼ ìˆ˜ì§‘í•  í˜ì´ìŠ¤ì…ë‹ˆë‹¤.</p>
            </div>
        </div>
        
        <div id="monthly-chart" class="chart-section">
            <div class="chart-container">
                <canvas id="monthlyChart"></canvas>
            </div>
            <div class="summary">
                <h3>ì›”ë³„ ë¹„ë””ì˜¤ í†µê³„ ìš”ì•½</h3>
                <p>2010ë…„ 7ì›”ë¶€í„° 2025ë…„ 5ì›”ê¹Œì§€ì˜ ì›”ë³„ ë¹„ë””ì˜¤ ìˆ˜ì§‘ ì¶”ì„¸ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. ìµœê·¼ ëª‡ ë…„ê°„ ì›”ë³„ ìˆ˜ì§‘ëŸ‰ì´ í¬ê²Œ ì¦ê°€í–ˆìœ¼ë©°, <span class="highlight">2024ë…„ 10ì›”</span>ì—ëŠ” 1,281ê°œë¡œ ê°€ì¥ ë§ì€ ë¹„ë””ì˜¤ê°€ ìˆ˜ì§‘ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
            </div>
        </div>
        
        <div id="recent-chart" class="chart-section">
            <div class="chart-container">
                <canvas id="recentChart"></canvas>
            </div>
            <div class="summary">
                <h3>ìµœê·¼ 3ë…„ ì›”ë³„ ë¹„ë””ì˜¤ í†µê³„ ìš”ì•½</h3>
                <p>2023ë…„ë¶€í„° 2025ë…„ê¹Œì§€ì˜ ìµœê·¼ 3ë…„ê°„ ì›”ë³„ ë¹„ë””ì˜¤ ìˆ˜ì§‘ ì¶”ì„¸ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ ê¸°ê°„ ë™ì•ˆ ì›” í‰ê·  <span class="highlight">700ê°œ ì´ìƒ</span>ì˜ ë¹„ë””ì˜¤ê°€ ìˆ˜ì§‘ë˜ì—ˆìœ¼ë©°, 2024ë…„ 5ì›”ì—ëŠ” ìµœê³  <span class="highlight">1,249ê°œ</span>ì˜ ë¹„ë””ì˜¤ê°€ ìˆ˜ì§‘ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
            </div>
        </div>
    </div>

    <script>
        // ì—°ë„ë³„ ë°ì´í„°
        const yearlyData = {
            labels: ['2010', '2011', '2013', '2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025'],
            datasets: [{
                label: 'ë¹„ë””ì˜¤ ìˆ˜',
                data: [7, 1, 1, 7, 16, 19, 68, 205, 440, 356, 891, 1749, 3808, 11628, 5046],
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        };

        // ì›”ë³„ ë°ì´í„° (ë„ˆë¬´ ë§ì•„ì„œ ì¼ë¶€ë§Œ í‘œì‹œ)
        const monthlyData = {
            labels: [
                '2010-07', '2010-08', '2010-09', '2010-10', '2011-05', '2013-08', '2014-08', '2014-09', '2014-11', '2014-12', 
                '2015-02', '2015-05', '2015-07', '2015-08', '2015-09', '2015-11', '2015-12', '2016-01', '2016-04', '2016-07', 
                '2016-09', '2016-10', '2016-12', '2017-01', '2017-02', '2017-03', '2017-05', '2017-06', '2017-07', '2017-08', 
                '2017-09', '2017-11', '2017-12', '2018-01', '2018-02', '2018-03', '2018-04', '2018-05', '2018-06', '2018-07', 
                '2018-08', '2018-09', '2018-10', '2018-11', '2018-12', '2019-01', '2019-02', '2019-03', '2019-04', '2019-05', 
                '2019-06', '2019-07', '2019-08', '2019-09', '2019-10', '2019-11', '2019-12', '2020-01', '2020-02', '2020-03', 
                '2020-04', '2020-05', '2020-06', '2020-07', '2020-08', '2020-09', '2020-10', '2020-11', '2020-12', '2021-01', 
                '2021-02', '2021-03', '2021-04', '2021-05', '2021-06', '2021-07', '2021-08', '2021-09', '2021-10', '2021-11', 
                '2021-12', '2022-01', '2022-02', '2022-03', '2022-04', '2022-05', '2022-06', '2022-07', '2022-08', '2022-09', 
                '2022-10', '2022-11', '2022-12', '2023-01', '2023-02', '2023-03', '2023-04', '2023-05', '2023-06', '2023-07', 
                '2023-08', '2023-09', '2023-10', '2023-11', '2023-12', '2024-01', '2024-02', '2024-03', '2024-04', '2024-05', 
                '2024-06', '2024-07', '2024-08', '2024-09', '2024-10', '2024-11', '2024-12', '2025-01', '2025-02', '2025-03', 
                '2025-04', '2025-05'
            ],
            datasets: [{
                label: 'ë¹„ë””ì˜¤ ìˆ˜',
                data: [
                    1, 4, 1, 1, 1, 1, 1, 1, 2, 3, 
                    1, 6, 1, 1, 2, 2, 3, 3, 1, 11, 
                    1, 2, 1, 12, 3, 1, 5, 2, 9, 23, 
                    8, 4, 1, 7, 3, 8, 5, 4, 5, 52, 
                    24, 51, 12, 22, 12, 29, 44, 25, 58, 47, 
                    30, 36, 36, 33, 33, 31, 38, 32, 25, 24, 
                    22, 26, 24, 30, 33, 35, 38, 29, 38, 57, 
                    58, 65, 79, 127, 65, 69, 83, 66, 72, 45, 
                    98, 80, 102, 83, 111, 82, 140, 153, 194, 149, 
                    236, 231, 188, 193, 219, 284, 278, 286, 259, 292, 
                    378, 371, 375, 372, 501, 542, 632, 785, 887, 1249, 
                    1139, 859, 987, 944, 1281, 1185, 1138, 1040, 1212, 1240, 
                    1119, 435
                ],
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1,
                pointRadius: 0
            }]
        };

        // ìµœê·¼ 3ë…„ ë°ì´í„° ì¶”ì¶œ
        const recentLabels = monthlyData.labels.filter(label => label.startsWith('2023') || label.startsWith('2024') || label.startsWith('2025'));
        const recentData = monthlyData.datasets[0].data.slice(-recentLabels.length);

        const recentMonthlyData = {
            labels: recentLabels,
            datasets: [{
                label: 'ë¹„ë””ì˜¤ ìˆ˜',
                data: recentData,
                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                borderColor: 'rgba(255, 99, 132, 1)',
                borderWidth: 1
            }]
        };

        // ì°¨íŠ¸ ìƒì„± í•¨ìˆ˜
        function createCharts() {
            // ì—°ë„ë³„ ì°¨íŠ¸
            const yearlyCtx = document.getElementById('yearlyChart').getContext('2d');
            const yearlyChart = new Chart(yearlyCtx, {
                type: 'bar',
                data: yearlyData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'ë¹„ë””ì˜¤ ìˆ˜'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'ì—°ë„'
                            }
                        }
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'ì—°ë„ë³„ ë¹„ë””ì˜¤ í†µê³„'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `ë¹„ë””ì˜¤ ìˆ˜: ${context.parsed.y.toLocaleString()}ê°œ`;
                                }
                            }
                        }
                    }
                }
            });

            // ì›”ë³„ ì°¨íŠ¸
            const monthlyCtx = document.getElementById('monthlyChart').getContext('2d');
            const monthlyChart = new Chart(monthlyCtx, {
                type: 'line',
                data: monthlyData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'ë¹„ë””ì˜¤ ìˆ˜'
                            }
                        },
                        x: {
                            ticks: {
                                maxRotation: 90,
                                minRotation: 90,
                                autoSkip: true,
                                maxTicksLimit: 20
                            },
                            title: {
                                display: true,
                                text: 'ì—°ì›”'
                            }
                        }
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'ì›”ë³„ ë¹„ë””ì˜¤ í†µê³„ (2010-2025)'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `ë¹„ë””ì˜¤ ìˆ˜: ${context.parsed.y.toLocaleString()}ê°œ`;
                                }
                            }
                        }
                    }
                }
            });

            // ìµœê·¼ 3ë…„ ì›”ë³„ ì°¨íŠ¸
            const recentCtx = document.getElementById('recentChart').getContext('2d');
            const recentChart = new Chart(recentCtx, {
                type: 'bar',
                data: recentMonthlyData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'ë¹„ë””ì˜¤ ìˆ˜'
                            }
                        },
                        x: {
                            ticks: {
                                maxRotation: 90,
                                minRotation: 90
                            },
                            title: {
                                display: true,
                                text: 'ì—°ì›”'
                            }
                        }
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: 'ìµœê·¼ 3ë…„ ì›”ë³„ ë¹„ë””ì˜¤ í†µê³„ (2023-2025)'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `ë¹„ë””ì˜¤ ìˆ˜: ${context.parsed.y.toLocaleString()}ê°œ`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // íƒ­ ì „í™˜ í•¨ìˆ˜
        // í˜ì´ì§€ íŠ¹ì • í•¨ìˆ˜ë¥¼ ê³µí†µ í•¨ìˆ˜ë¡œ ëŒ€ì²´
        function showChart(chartType) {
            showTab(chartType, 'chart');
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì°¨íŠ¸ ìƒì„±
        window.onload = createCharts;
    </script>
</body>
</html>
